(function($){"use strict";$(document).on("ready",(function(){var wow=new WOW({boxClass:"wow",animateClass:"animated",offset:0,mobile:true,live:true});wow.init();$("body").scrollspy({target:".navbar-collapse",offset:200});$("a.smooth-menu").on("click",(function(event){var $anchor=$(this);var headerH="75";$("html, body").stop().animate({scrollTop:$($anchor.attr("href")).offset().top-headerH+"px"},1500,"easeInOutExpo");event.preventDefault()}));function doAnimations(elems){var animEndEv="webkitAnimationEnd animationend";elems.each((function(){var $this=$(this),$animationType=$this.data("animation");$this.addClass($animationType).one(animEndEv,(function(){$this.removeClass($animationType)}))}))}var $immortalCarousel=$(".animate_text"),$firstAnimatingElems=$immortalCarousel.find(".item:first").find("[data-animation ^= 'animated']");$immortalCarousel.carousel();doAnimations($firstAnimatingElems);$immortalCarousel.on("slide.bs.carousel",(function(e){var $animatingElems=$(e.relatedTarget).find("[data-animation ^= 'animated']");doAnimations($animatingElems)}));$(window).on("resize",(function(){$(".equal-height").equalHeights()}));$(".equal-height").equalHeights().find("img, iframe, object").on("load",(function(){$(".equal-height").equalHeights()}));$("#portfolio-grid,.blog-masonry").imagesLoaded((function(){$(".mix-item-menu").on("click","button",(function(){var filterValue=$(this).attr("data-filter");$grid.isotope({filter:filterValue})}));$(".mix-item-menu button").on("click",(function(event){$(this).siblings(".active").removeClass("active");$(this).addClass("active");event.preventDefault()}));var $grid=$("#portfolio-grid").isotope({itemSelector:".pf-item",percentPosition:true,masonry:{columnWidth:".pf-item"}});$(".blog-masonry").isotope({itemSelector:".blog-item",percentPosition:true,masonry:{columnWidth:".blog-item"}})}));$(".timer").countTo();$(".fun-fact").appear((function(){$(".timer").countTo()}),{accY:-100});$(".player").mb_YTPlayer();$(".popup-link").magnificPopup({type:"image"});$(".popup-gallery").magnificPopup({type:"image",gallery:{enabled:true}});$(".popup-youtube, .popup-vimeo, .popup-gmaps").magnificPopup({type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:false,fixedContentPos:false});$(".magnific-mix-gallery").each((function(){var $container=$(this);var $imageLinks=$container.find(".item");var items=[];$imageLinks.each((function(){var $item=$(this);var type="image";if($item.hasClass("magnific-iframe")){type="iframe"}var magItem={src:$item.attr("href"),type:type};magItem.title=$item.data("title");items.push(magItem)}));$imageLinks.magnificPopup({mainClass:"mfp-fade",items:items,gallery:{enabled:true,tPrev:$(this).data("prev-text"),tNext:$(this).data("next-text")},type:"image",callbacks:{beforeOpen:function(){var index=$imageLinks.index(this.st.el);if(-1!==index){this.goTo(index)}}}})}));$(".doctor-carousel").owlCarousel({loop:false,margin:30,nav:true,navText:["<i class='fa fa-angle-left'></i>","<i class='fa fa-angle-right'></i>"],dots:false,autoplay:true,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}});$(".services-carousel").owlCarousel({loop:false,margin:30,nav:true,navText:["<i class='fa fa-angle-left'></i>","<i class='fa fa-angle-right'></i>"],dots:false,autoplay:true,responsive:{0:{items:1},600:{items:2},1e3:{items:3}}});$(".testimonial-carousel").owlCarousel({loop:false,margin:30,nav:true,navText:["<i class='fa fa-angle-left'></i>","<i class='fa fa-angle-right'></i>"],dots:false,autoplay:true,responsive:{0:{items:1},600:{items:2},1e3:{items:2}}});$(".tips-carousel").owlCarousel({loop:false,nav:true,dots:false,items:1,navText:["<i class='fa fa-angle-left'></i>","<i class='fa fa-angle-right'></i>"]});$(window).on("load",(function(){$(".preloader").fadeOut("slow",(function(){$(this).remove()}))}));let cart=[];let ongkir=5e3;let minimumPurchase=5;let totalQuantity=0;$(document).ready((function(){const storedCart=localStorage.getItem("cart");if(storedCart){cart=JSON.parse(storedCart);updateCartUI()}}));function updateCartUI(){const cartItemsContainer=$("#cart-items");const cartSubtotalElement=$("#cart-subtotal");const cartOngkirElement=$("#cart-ongkir");const cartGrandtotalElement=$("#cart-grandtotal");const badgeElement=$(".badge-custom");const emptyCartWidget=$("#empty-cart");const filledCartWidget=$("#filled-cart");cartItemsContainer.empty();let subtotal=0;totalQuantity=0;cart.forEach((item=>{subtotal+=item.price*item.quantity;totalQuantity+=item.quantity;const itemElement=`\n                        <div class="cart-item">\n                            <img src="${item.image}" alt="Product Image" width="80" height="80">\n                            <div class="item-details">\n                                <a href="#" class="item-name">${item.name}</a>\n                                <div class="quantity">\n                                    <button class="quantity-btn" onclick="changeQuantity(${item.id}, -1)" ${item.quantity<=1?"disabled":""}>-</button>\n                                    <input type="text" readonly value="${item.quantity}" min="1">\n                                    <button class="quantity-btn" onclick="changeQuantity(${item.id}, 1)">+</button>\n                                </div>\n                                <span class="item-price">Rp. ${item.price.toLocaleString("id-ID")}</span>\n                            </div>\n                            <span class="remove-item" onclick="removeFromCart(${item.id})"><i class="fa fa-trash"></i></span>\n                        </div>\n                    `;cartItemsContainer.append(itemElement)}));cartSubtotalElement.text(`Rp. ${subtotal.toLocaleString("id-ID")}`);cartOngkirElement.text(`Rp. ${ongkir.toLocaleString("id-ID")}`);const grandtotal=subtotal+ongkir;cartGrandtotalElement.text(`Rp. ${grandtotal.toLocaleString("id-ID")}`);badgeElement.text(totalQuantity);if(cart.length===0){emptyCartWidget.show();filledCartWidget.hide()}else{emptyCartWidget.hide();filledCartWidget.show()}localStorage.setItem("cart",JSON.stringify(cart))}function changeQuantity(productId,delta){const cartItem=cart.find((item=>item.id===productId));if(cartItem){const newQuantity=cartItem.quantity+delta;if(newQuantity>=1){cartItem.quantity=newQuantity}updateCartUI()}}function removeFromCart(productId){cart=cart.filter((item=>item.id!==productId));updateCartUI()}$(document).on("click",".add-to-cart",(function(e){e.preventDefault();const isSideNavOpen=$("nav.navbar.bootsnav > .side").hasClass("on");const jenisPengambilan=$("#pengambilan").val();if(!jenisPengambilan){alert("Silakan pilih jenis pengambilan Anda terlebih dahulu!");return}if(!isSideNavOpen){$("nav.navbar.bootsnav > .side").addClass("on");$("body").addClass("on-side")}const productId=$(this).data("id");const productName=$(this).data("name");const productPrice=$(this).data("price");const productImage=$(this).data("image");const productUnit=$(this).data("unit");const cartItem=cart.find((item=>item.id===productId));if(cartItem){cartItem.quantity+=1}else{cart.push({id:productId,name:productName,price:productPrice,quantity:1,image:productImage,unit:productUnit})}updateCartUI()}));$("#pengambilan").change((function(){const jenisPengambilan=$(this).val();if(jenisPengambilan==="grosir"){minimumPurchase=5;ongkir=5e3}else if(jenisPengambilan==="satuan"){minimumPurchase=1;ongkir=0}updateCartUI()}));$("#cart-form").submit((function(e){e.preventDefault();const jenisPengambilan=$("#pengambilan").val();if(!jenisPengambilan){alert("Silakan pilih jenis pengambilan Anda!");return}if(cart.length===0){alert("Keranjang kosong. Tambahkan produk sebelum checkout.");return}const totalQuantity=cart.reduce(((sum,item)=>sum+item.quantity),0);if(totalQuantity<minimumPurchase){alert(`Minimal pembelian adalah ${minimumPurchase} item untuk jenis pengambilan yang dipilih.`);return}const nama=$("#nama").val();const phoneNumber=$("#phone_number").val();const address=$("#address").val();if(!nama||!phoneNumber||!address){alert("Silakan isi semua informasi pengiriman.");return}let orderDetails=`Nama: ${nama}\nTelfon: ${phoneNumber}\nAlamat: ${address}\n-----------------------------\n###### *DATA ORDER RICO* ######\n`;orderDetails+=`-----------------------------\n`;cart.forEach((item=>{orderDetails+=`${item.name}: ${item.quantity} ${item.unit}\n`}));const subtotal=cart.reduce(((sum,item)=>sum+item.price*item.quantity),0);const grandtotal=subtotal+ongkir;orderDetails+=`-----------------------------\n`;orderDetails+=`Subtotal: Rp. ${subtotal.toLocaleString("id-ID")}\n`;orderDetails+=`Ongkir: Rp. ${ongkir.toLocaleString("id-ID")}\n`;orderDetails+=`*Grandtotal: Rp. ${grandtotal.toLocaleString("id-ID")}*\n`;let whatsappUrl;if(jenisPengambilan==="grosir"){whatsappUrl=`https://api.whatsapp.com/send?phone=6282192059768&text=${encodeURIComponent(orderDetails)}`}else if(jenisPengambilan==="satuan"){whatsappUrl=`https://api.whatsapp.com/send?phone=6285399696005&text=${encodeURIComponent(orderDetails)}`}window.open(whatsappUrl,"_blank");cart=[];localStorage.removeItem("cart");updateCartUI();$("#cart-form")[0].reset();localStorage.removeItem("formData");location.reload()}));window.changeQuantity=changeQuantity;window.removeFromCart=removeFromCart;$("select").niceSelect();$(".contact-form").each((function(){var formInstance=$(this);formInstance.submit((function(){var action=$(this).attr("action");$("#message").slideUp(750,(function(){$("#message").hide();$("#submit").after('<img src="assets/img/ajax-loader.gif" class="loader" />').attr("disabled","disabled");$.post(action,{name:$("#name").val(),email:$("#email").val(),phone:$("#phone").val(),comments:$("#comments").val()},(function(data){document.getElementById("message").innerHTML=data;$("#message").slideDown("slow");$(".contact-form img.loader").fadeOut("slow",(function(){$(this).remove()}));$("#submit").removeAttr("disabled")}))}));return false}))}));$("#appointment-form").on("submit",(function(e){e.preventDefault();var department=$("#department").val();var name=$("#name").val();var message=`Halo, Nama saya ${name}. Saya dari pihak ${department}. Saya ingin membuat janji untuk penjelasan produk. Kira-kira kapan pihak RICO bisa bertemu? Terima kasih!`;var whatsappUrl=`https://wa.me/6282192059768?text=${message}`;window.open(whatsappUrl,"_blank")}))}))})(jQuery);